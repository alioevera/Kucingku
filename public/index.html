<!DOCTYPE html>
<html lang="id" id="home">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Cache-Control"
      content="no-store, no-cache, must-revalidate, max-age=0"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <script type="module" src="dist/js/auth-check.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js"></script>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVNBuRxOKj44ZgyQGkwTMVTlpfEztbLvc&callback=initialize"
      async
      defer
      loading="async"
    ></script>
    <script>
      var map;
      var myCenter = new google.maps.LatLng(
        -6.304917503345618,
        106.7214212439519
      );
      var myCenter = new google.maps.LatLng(
        -6.229669684755616,
        106.77182346962992
      );
      var myCenter = new google.maps.LatLng(
        -6.506546451845382,
        106.72319869882135
      );
      var marker;
      function initialize() {
        var mapProp = {
          center: myCenter,
          zoom: 16,
          mapTypeId: google.maps.MapTypeId.ROADMAP,
        };

        google.maps.event.addDomListener(window, "load", initializeMap);

        map = new google.maps.Map(
          document.getElementById("surgakucingbintaro"),
          mapProp
        );
        var marker;
        function initialize() {
          var mapProp = {
            center: myCenter,
            zoom: 16,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
          };

          google.maps.event.addDomListener(window, "load", initializeMap);

          map = new google.maps.Map(
            document.getElementById("surgakucingbintaro"),
            mapProp
          );
        }
      }

      google.maps.event.addDomListener(window, "load", initializeMap);
    </script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="dist/css/style.css" />
    <title>KUCINGKU</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap");

      h1 {
        font-family: "Permanent Marker", cursive;
        color: #ffffff;
        text-align: center;
        margin-top: 10px;
      }

      .about {
        padding: 50px 20px;
        background-color: #f8f8f8;
        text-align: center;
      }

      .about h2 {
        font-family: "Poppins", sans-serif;
        font-weight: 700;
        color: #333;
      }

      .about p {
        font-family: "Poppins", sans-serif;
        font-weight: 300;
        color: #666;
        line-height: 1.6;
        max-width: 800px;
        margin: 20px auto 0;
      }

      button {
        display: block;
        margin: 20px auto;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
      }

      .hero button {
        display: inline-block;
        margin: 20px 0;
      }

      .logo-link {
        text-decoration: none;
      }

      .logo-link h1 {
        color: inherit;
      }

      .reviews {
        padding: 50px 20px;
        background-color: #f8f8f8;
        text-align: center;
      }

      .reviews h2 {
        font-family: "Poppins", sans-serif;
        font-weight: 700;
        color: #333;
        margin-bottom: 20px;
      }

      .reviews form {
        max-width: 600px;
        margin: 0 auto 40px;
        padding: 20px;
        background-color: #fff;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
      }

      .reviews form div {
        margin-bottom: 15px;
        text-align: left;
      }

      .reviews form label {
        font-family: "Poppins", sans-serif;
        font-weight: 500;
        display: block;
        margin-bottom: 5px;
      }

      .reviews form input,
      .reviews form textarea,
      .reviews form select {
        width: 100%;
        padding: 10px;
        font-family: "Poppins", sans-serif;
        font-size: 14px;
        border: 1px solid #ddd;
        border-radius: 5px;
      }

      .reviews form button {
        background-color: #333;
        color: #fff;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .reviews form button:hover {
        background-color: #555;
      }

      .reviews-list {
        max-width: 800px;
        margin: 0 auto;
        text-align: left;
      }

      .reviews-list h3 {
        font-family: "Poppins", sans-serif;
        font-weight: 600;
        color: #333;
        margin-bottom: 20px;
      }

      .review-item {
        background-color: #fff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }

      .review-item strong {
        font-family: "Poppins", sans-serif;
        font-weight: 600;
        color: #333;
      }

      .review-item p {
        font-family: "Poppins", sans-serif;
        font-weight: 300;
        color: #666;
        line-height: 1.6;
        margin-top: 10px;
      }

      .review-item span {
        font-family: "Poppins", sans-serif;
        font-weight: 500;
        color: #999;
        font-size: 14px;
        display: block;
        margin-top: 5px;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="navbar">
        <div class="container">
          <div class="box-navbar">
            <div class="logo">
              <a href="#home" class="logo-link"><h1>KucingKu</h1></a>
            </div>
            <ul class="menu">
              <li><a href="#home">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#help">Location</a></li>
              <li><a href="#reviews">Reviews</a></li>
              <li><a href="admin/login.html">Sign In</a></li>
            </ul>
            <i class="fas fa-bars menu-bar"></i> <!-- Corrected class name -->
          </div>
        </div>
      </div>

      <div class="hero">
        <div class="container">
          <div class="box-hero">
            <div class="box">
              <h1>Ingin Bermain Bersama Kucing?</h1> <!-- Fixed heading -->
              <a href="#about"><button>Selengkapnya</button></a>
            </div>
            <div class="box">
              <img src="assets/img/CATS2.jpeg" alt="" />
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- About section -->
    <div class="about" id="about">
      <div class="container">
        <h2>Apa Itu Rumah Kucing?</h2>
        <p>
          Rumah kucing adalah tempat yang dirancang khusus untuk kucing agar
          mereka dapat bermain, bersantai, dan merasa aman. Di sini, kucing
          mendapatkan perawatan terbaik, lingkungan yang bersih, dan berbagai
          fasilitas yang membuat mereka tetap aktif dan bahagia. Rumah kucing
          seringkali memiliki berbagai mainan, tempat tidur yang nyaman, dan
          area bermain yang luas untuk memastikan kucing merasa betah dan
          terhibur.
        </p>
      </div>
    </div>
    <!-- About section -->

    <!-- Help section -->
    <div class="help" id="help">
      <div class="container">
        <div class="box-help">
          <div class="box">
            <img src="assets/img/RK_B.jpg" alt="Rumah Kucing Bintaro" />
            <h3>Rumah Kucing Bintaro</h3>
            <button class="detail-btn" data-detail="detail1.html">Detail</button>
          </div>
          <div class="box">
            <img src="assets/img/CAT-2.jpeg" alt="Rumah Kucing .com" />
            <h3>Rumah Kucing .com</h3>
            <button class="detail-btn" data-detail="detail2.html">Detail</button>
          </div>
          <div class="box">
            <img src="assets/img/CAT-3.jpeg" alt="Rumah Kucing Parung" />
            <h3>Rumah Kucing Parung</h3>
            <button class="detail-btn" data-detail="detail3.html">Detail</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Help section -->

    <!-- Reviews section -->
    <div class="reviews" id="reviews">
      <div class="container">
        <h2>Reviews</h2>
        <form id="review-form">
          <div>
            <label for="usName">Name:</label>
            <input type="text" id="usName" name="usName" required />
          </div>
          <div>
            <label for="plName">Place Name:</label>
            <input type="text" id="plName" name="plName" required />
          </div>
          <div>
            <label for="usReview">Review:</label>
            <textarea id="usReview" name="usReview" required></textarea>
          </div>
          <div>
            <label for="usRating">Rating:</label>
            <select id="usRating" name="usRating" required>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </div>
          <button id="subBtn" type="submit">Submit Review</button>
        </form>
        <div id="reviews-list" class="reviews-list">
          <!-- User reviews will be displayed here -->
        </div>
      </div>
    </div>
    <!-- Reviews section -->

    <!-- Footer -->
    <div class="footer">
      <div class="container">
        <div class="box-footer">
          <div class="box">
            <h1>KucingKu</h1>
          </div>
          <div class="box">
            <h3>Menu</h3>
            <span><a href="#home">Home</a></span>
            <a href="#about">About</a>
            <a href="#help">Location</a>
            <a href="#reviews">Reviews</a>
            <a href="#daftar">Daftar</a>
          </div>
          <div class="box">
            <p>&copy; Copyright by <span>Group 11</span></p>
          </div>
        </div>
      </div>
    </div>
    <!-- Footer -->

    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-performance.js"></script>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
      import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

      const firebaseConfig = {
    apiKey: "AIzaSyA2EHrBbp_y3J_DXFnizJTnhpqnI-kWOFY",
    authDomain: "project-kucing.firebaseapp.com",
    databaseURL: "https://project-kucing-default-rtdb.firebaseio.com",
    projectId: "project-kucing",
    storageBucket: "project-kucing.appspot.com",
    messagingSenderId: "670406034488",
    appId: "1:670406034488:web:e5e24491d859491abb12cd",
    measurementId: "G-CTMSWG4E5W"
  };

      initializeApp(firebaseConfig);

      const db = getDatabase();
      const reviewsRef = ref(db, 'reviews');
      const reviewForm = document.getElementById("review-form");
      const reviewsList = document.getElementById("reviews-list");

      reviewForm.addEventListener("submit", function (e) {
  e.preventDefault();

  const usName = document.getElementById("usName").value;
  const plName = document.getElementById("plName").value;
  const usReview = document.getElementById("usReview").value;
  const usRating = parseInt(document.getElementById("usRating").value); // Convert to integerf

  // Save review to Firebase Realtime Database
  push(reviewsRef, {
    usName: usName,
    plName: plName,
    usReview: usReview,
    usRating: usRating
  });

  // Display review in the UI with star ratings
  const reviewItem = document.createElement("div");
  reviewItem.classList.add("review-item");

  // Generate star icons based on usRating
  let starsHtml = "";
  for (let i = 1; i <= 5; i++) {
    if (i <= usRating) {
      starsHtml += '<i class="fas fa-star"></i>'; // Full star
    } else {
      starsHtml += '<i class="far fa-star"></i>'; // Empty star
    }
  }

  reviewItem.innerHTML = `
    <strong>${usName}</strong> reviewed <strong>${plName}</strong>:
    <div class="rating-stars">${starsHtml}</div>
    <p>${usReview}</p>
  `;

  reviewsList.appendChild(reviewItem);
});

const detailButtons = document.querySelectorAll('.detail-btn');
        detailButtons.forEach(function (button) {
          button.addEventListener('click', function () {
            const href = button.getAttribute('data-detail');
            window.location.href = href;
          });
        });


      // Auto logout timer
      let logoutTimer;
      const logoutTime = 10 * 60 * 1000; // 10 minutes

      function resetLogoutTimer() {
        clearTimeout(logoutTimer);
        logoutTimer = setTimeout(() => {
          alert("Session expired. You will be logged out.");
          window.location.href = "/admin/login.html"; // Redirect to login page
        }, logoutTime);
      }

      // Reset the timer on any activity
      document.addEventListener("DOMContentLoaded", resetLogoutTimer);
      document.addEventListener("mousemove", resetLogoutTimer);
      document.addEventListener("keypress", resetLogoutTimer);
      document.addEventListener("click", resetLogoutTimer);
      document.addEventListener("scroll", resetLogoutTimer);
    </script>
  </body>
</html>
